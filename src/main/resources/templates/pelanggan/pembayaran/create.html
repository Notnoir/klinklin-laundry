<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <title>Bayar Transaksi</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    />
  </head>
  <body>
    <div class="container mt-5">
      <h2 class="mb-4">Form Pembayaran</h2>

      <form
        th:action="@{/pelanggan/pembayaran/simpan}"
        th:object="${pembayaran}"
        method="post"
      >
        <input type="hidden" th:field="*{transaksiId}" />

        <div class="mb-3">
          <label>Nama Pelanggan</label>
          <input
            type="text"
            class="form-control"
            th:value="${pembayaran.namaPelanggan}"
            readonly
          />
        </div>

        <div class="mb-3">
          <label>Berat Cucian</label>
          <input
            type="text"
            class="form-control"
            th:value="${pembayaran.berat} + ' Kg'"
            readonly
          />
        </div>

        <div class="mb-3">
          <label>Total yang harus dibayar</label>
          <input
            type="text"
            class="form-control"
            th:value="${pembayaran.totalFormatted}"
            readonly
          />
        </div>

        <div class="mb-3">
          <label for="jumlahPembayaran" class="form-label"
            >Jumlah Pembayaran</label
          >
          <input
            id="jumlahPembayaran"
            type="number"
            class="form-control"
            th:field="*{jumlah}"
            step="0.01"
            min="0.01"
            placeholder="Masukkan jumlah pembayaran"
            required
          />
          <div class="form-text">
            Masukkan jumlah pembayaran dalam Rupiah (contoh: 10000.00)
          </div>
          <div
            class="text-danger"
            th:if="${#fields.hasErrors('jumlah')}"
            th:errors="*{jumlah}"
          ></div>
        </div>

        <div class="mb-3">
          <label>Metode Pembayaran</label>
          <select class="form-select" th:field="*{metodePembayaran}" required>
            <option value="" disabled selected>Pilih metode</option>
            <option value="CASH">Tunai</option>
            <option value="TRANSFER">Transfer</option>
            <option value="E_WALLET">QRIS</option>
          </select>
        </div>

        <button type="submit" class="btn btn-primary">Bayar</button>
        <a th:href="@{/pelanggan/transaksi}" class="btn btn-secondary"
          >Kembali</a
        >
      </form>
    </div>
  </body>
</html>
