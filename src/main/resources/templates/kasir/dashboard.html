<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head th:replace="kasir/layout :: head"></head>
  <body>
    <nav th:replace="kasir/layout :: navbar"></nav>
    <aside th:replace="kasir/layout :: sidebar"></aside>
    <div class="p-4 sm:ml-64">
      <div class="p-4 border-2 border-gray-200 border-dashed rounded-lg mt-5">
        <h2 class="text-3xl font-bold mb-6">Dashboard Kasir</h2>

        <!-- Statistik Card -->
        <div
          class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-10"
        >
          <div class="bg-blue-500 text-white rounded-xl shadow p-4">
            <div class="font-semibold text-sm">Transaksi Hari Ini</div>
            <div
              class="text-2xl font-bold mt-2"
              th:text="${jumlahTransaksi} ?: 0"
            >
              0
            </div>
          </div>
          <div class="bg-green-500 text-white rounded-xl shadow p-4">
            <div class="font-semibold text-sm">Pemasukan Hari Ini</div>
            <div
              class="text-2xl font-bold mt-2"
              th:text="${totalPemasukan != null ? 'Rp ' + totalPemasukan : 'Rp 0'}"
            >
              Rp 0
            </div>
          </div>
          <div class="bg-yellow-400 text-white rounded-xl shadow p-4">
            <div class="font-semibold text-sm">Menunggu</div>
            <div class="text-2xl font-bold mt-2" th:text="${menunggu} ?: 0">
              0
            </div>
          </div>
          <div class="bg-cyan-500 text-white rounded-xl shadow p-4">
            <div class="font-semibold text-sm">Diproses</div>
            <div class="text-2xl font-bold mt-2" th:text="${proses} ?: 0">
              0
            </div>
          </div>
          <div class="bg-emerald-500 text-white rounded-xl shadow p-4">
            <div class="font-semibold text-sm">Selesai</div>
            <div class="text-2xl font-bold mt-2" th:text="${selesai} ?: 0">
              0
            </div>
          </div>
        </div>

        <!-- Tabel Transaksi Terbaru -->
        <h4 class="text-xl font-semibold mb-4">Transaksi Terbaru</h4>
        <div class="overflow-x-auto rounded-lg shadow-md">
          <table
            class="min-w-full bg-white rounded-lg shadow text-sm text-left"
          >
            <thead class="bg-blue-50 text-gray-700 uppercase text-xs">
              <tr>
                <th class="px-4 py-3">#</th>
                <th class="px-4 py-3">Nama Pelanggan</th>
                <th class="px-4 py-3">Layanan</th>
                <th class="px-4 py-3">Berat (Kg)</th>
                <th class="px-4 py-3">Total</th>
                <th class="px-4 py-3">Status</th>
                <th class="px-4 py-3">Tanggal</th>
              </tr>
            </thead>
            <tbody class="divide-y divide-gray-200">
              <tr
                th:each="transaksi, iterStat : ${transaksiTerbaru}"
                class="hover:bg-blue-50"
              >
                <td class="px-4 py-3" th:text="${iterStat.index + 1}">1</td>
                <td class="px-4 py-3" th:text="${transaksi.namaPelanggan}">
                  Pelanggan
                </td>
                <td class="px-4 py-3" th:text="${transaksi.layananNama}">
                  Layanan
                </td>
                <td class="px-4 py-3" th:text="${transaksi.beratKg}">0</td>
                <td
                  class="px-4 py-3"
                  th:text="${transaksi.totalFormatted ?: 'Rp 0'}"
                >
                  Rp 0
                </td>
                <td class="px-4 py-3" th:text="${transaksi.status}">
                  DITERIMA
                </td>
                <td
                  class="px-4 py-3"
                  th:text="${transaksi.tanggalTransaksiFormatted ?: '-'}"
                >
                  -
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <script th:replace="kasir/layout :: scripts"></script>
  </body>
</html>
